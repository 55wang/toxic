2018-04-16 13:32:03,132 ERROR: Exception on /lda [GET] [in /Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 196, in lda
    vectorizer, lda_model, svd_transformer, svd_matrix = LDA_model(post_list, 3, 100)
  File "/Users/wang/PycharmProjects/toxic/code/LDA_topic_modeling.py", line 12, in LDA_model
    vectorizer, _ = build_feature_matrix(norm_corpus, feature_type='tfidf')
  File "/Users/wang/PycharmProjects/toxic/code/utils.py", line 57, in build_feature_matrix
    feature_matrix = vectorizer.fit_transform(documents).astype(float)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 1381, in fit_transform
    X = super(TfidfVectorizer, self).fit_transform(raw_documents)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 869, in fit_transform
    self.fixed_vocabulary_)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 811, in _count_vocab
    raise ValueError("empty vocabulary; perhaps the documents only"
ValueError: empty vocabulary; perhaps the documents only contain stop words
2018-04-16 13:32:03,987 ERROR: Exception on /lsi [GET] [in /Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 263, in lsi
    vectorizer, lda_model, svd_transformer, svd_matrix = LSI_model(post_list, 3, 100)
  File "/Users/wang/PycharmProjects/toxic/code/LSI_topic_modeling.py", line 11, in LSI_model
    vectorizer, _ = build_feature_matrix(norm_corpus, feature_type='tfidf')
  File "/Users/wang/PycharmProjects/toxic/code/utils.py", line 57, in build_feature_matrix
    feature_matrix = vectorizer.fit_transform(documents).astype(float)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 1381, in fit_transform
    X = super(TfidfVectorizer, self).fit_transform(raw_documents)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 869, in fit_transform
    self.fixed_vocabulary_)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/sklearn/feature_extraction/text.py", line 811, in _count_vocab
    raise ValueError("empty vocabulary; perhaps the documents only"
ValueError: empty vocabulary; perhaps the documents only contain stop words
2018-04-16 13:34:26,550 INFO: Microblog startup [in /Users/wang/PycharmProjects/toxic/app/__init__.py:49]
2018-04-16 14:24:06,193 INFO: Microblog startup [in /Users/wang/PycharmProjects/toxic/app/__init__.py:49]
2018-04-16 14:24:27,132 ERROR: Exception on /index [POST] [in /Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask_login/utils.py", line 261, in decorated_view
    return func(*args, **kwargs)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 86, in index
    prediction = test_transform(test, tf_transformer, NB_model, RF_model, KNN_model, SVM_model, GB_model)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 58, in test_transform
    test_predicts = predicts.astype(int)
AttributeError: 'list' object has no attribute 'astype'
2018-04-16 14:25:05,258 INFO: Microblog startup [in /Users/wang/PycharmProjects/toxic/app/__init__.py:49]
2018-04-16 14:25:15,071 ERROR: Exception on /index [POST] [in /Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask_login/utils.py", line 261, in decorated_view
    return func(*args, **kwargs)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 86, in index
    prediction = test_transform(test, tf_transformer, NB_model, RF_model, KNN_model, SVM_model, GB_model)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 58, in test_transform
    test_predicts = predicts[0].astype(int)
AttributeError: 'str' object has no attribute 'astype'
2018-04-16 14:25:41,874 INFO: Microblog startup [in /Users/wang/PycharmProjects/toxic/app/__init__.py:49]
2018-04-16 14:25:53,372 ERROR: Exception on /index [POST] [in /Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py:1560]
Traceback (most recent call last):
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1982, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1614, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1517, in handle_user_exception
    reraise(exc_type, exc_value, tb)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1612, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask/app.py", line 1598, in dispatch_request
    return self.view_functions[rule.endpoint](**req.view_args)
  File "/Users/wang/anaconda3/envs/python2/lib/python2.7/site-packages/flask_login/utils.py", line 261, in decorated_view
    return func(*args, **kwargs)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 88, in index
    prediction = test_transform(test, tf_transformer, NB_model, RF_model, KNN_model, SVM_model, GB_model)
  File "/Users/wang/PycharmProjects/toxic/app/routes.py", line 66, in test_transform
    return prediction
UnboundLocalError: local variable 'prediction' referenced before assignment
2018-04-16 14:26:20,662 INFO: Microblog startup [in /Users/wang/PycharmProjects/toxic/app/__init__.py:49]
